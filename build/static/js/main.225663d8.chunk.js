(window["webpackJsonptodo-list"]=window["webpackJsonptodo-list"]||[]).push([[0],{30:function(e,t,a){},41:function(e,t,a){e.exports=a(57)},46:function(e,t,a){},47:function(e,t,a){},53:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(34),s=a.n(i),c=(a(46),a(47),a(10)),o=a(11),l=a(13),u=a(12),m=a(14),d=a(16),p=(a(48),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(d.b,{className:"navbar-item",to:"/",exact:"true"},r.a.createElement("img",{src:"https://avatars2.githubusercontent.com/u/39895671?s=400&v=4",alt:"logo"}),r.a.createElement("h1",null,"TodoList-React")),r.a.createElement("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(d.c,{to:"/",exact:"true",className:"navbar-item",activeClassName:"activo"},"Home"),r.a.createElement(d.c,{to:"/todolist/",exact:"true",className:"navbar-item",activeClassName:"activo"},"Todolist"))))}}]),t}(n.Component)),v=a(15),b=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Index"))}}]),t}(n.Component),h=a(26),k=a(18),f=(a(53),a(7));a(30);function E(){var e=Object(k.a)(["\n        mutation complete_task($term: Boolean, $id: Int){\n            update_tasks(where: {id: {_eq: $id}}, _set: {completed: $term}) {\n                returning {\n                id\n                name\n                completed\n                }\n            }\n            }\n\n        "]);return E=function(){return e},e}function g(){var e=Object(k.a)(["\n            mutation delete_tasks($id: Int){\n                delete_tasks(where: {id: {_eq: $id}}) {\n                    returning {\n                    id\n                    }\n                    }\n                }\n        "]);return g=function(){return e},e}var j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).remove=function(e){var t=Object(f.b)(g());new f.a({uri:"https://todolist-engine.herokuapp.com/v1/graphql"}).mutate({mutation:t,variables:{id:e}}).then(function(t){var n=a.props.tasks.findIndex(function(t){return t.id===e});a.props.action(n)})},a.completed=function(e){var t=Object(f.b)(E());new f.a({uri:"https://todolist-engine.herokuapp.com/v1/graphql"}).mutate({mutation:t,variables:{id:e,term:function(e){var t=void 0;return a.props.tasks.forEach(function(a){a.id===e&&(t=a.completed)}),!t}(e)}}).then(function(t){var n=a.props.tasks.findIndex(function(t){return t.id===e});a.props.actionUpdate(n)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"panel list-group columns list-container"},this.props.tasks.map(function(t){return r.a.createElement("a",{key:t.id,className:"panel-block list-group-item is-primary item item_a"},r.a.createElement("span",{className:t.completed?"completed":""},t.name),r.a.createElement("div",null,t.completed?r.a.createElement("button",{className:"button is-info is-outlined is-small",onClick:function(){e.completed(t.id)}},"Incompleted"):r.a.createElement("button",{className:"button is-primary is-outlined is-small",onClick:function(){e.completed(t.id)}},"Completed"),r.a.createElement("button",{className:"button is-danger is-outlined is-small",onClick:function(){e.remove(t.id)}},"Remove")),r.a.createElement("span",{className:"date"},t.createTo))}))}}]),t}(n.Component);function O(){var e=Object(k.a)(["{\n            tasks(order_by: {createTo: asc}) {\n              id\n              name\n              completed\n              createTo\n            }\n          }"]);return O=function(){return e},e}function N(){var e=Object(k.a)(["mutation insert_tasks($name: String){\n                    insert_tasks(objects: {name: $name}) {\n                        returning {\n                        id\n                        name\n                        createTo\n                        }\n                    }\n                    }"]);return N=function(){return e},e}var w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).addTask=function(e){if(""!==a.state.tarea&&("Enter"===e.key||void 0===e.key)){var t=new f.a({uri:"https://todolist-engine.herokuapp.com/v1/graphql"}),n=Object(f.b)(N());t.mutate({mutation:n,variables:{name:a.state.tarea}}).then(function(e){a.setState({tasks:a.state.tasks.concat(e.data.insert_tasks.returning),tarea:""}),document.getElementById("inputNewTarea").value=""})}},a.reloadTask=function(){var e=new f.a({uri:"https://todolist-engine.herokuapp.com/v1/graphql"});a.setState({tasks:[]}),e.query({query:Object(f.b)(O())}).then(function(e){a.setState({tasks:a.state.tasks.concat(e.data.tasks)})})},a.removeTask=function(e){var t=Object(h.a)(a.state.tasks);t.splice(e,1),a.setState({tasks:t})},a.updateTask=function(e){var t=Object(h.a)(a.state.tasks);t[e].completed=!t[e].completed,a.setState({tasks:t})},a.state={tasks:[],tarea:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns h1-container"},r.a.createElement("h1",null,"TodoList")),r.a.createElement("div",{className:"columns newtask"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Introduce tar\xe9a",onKeyDown:this.addTask,id:"inputNewTarea",onChange:function(t){e.setState({tarea:t.target.value})}}),r.a.createElement("a",{className:"button is-link",onClick:this.addTask},"A\xf1adir")),r.a.createElement(j,{tasks:this.state.tasks,action:this.removeTask,actionUpdate:this.updateTask}))}},{key:"componentDidMount",value:function(){this.reloadTask()}}]),t}(n.Component);var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,null,r.a.createElement(p,null),r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/",exact:!0,component:b}),r.a.createElement(v.a,{path:"/todoList/",component:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.225663d8.chunk.js.map